<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SurVibe – Sur Ka Naya Vibe</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <style>
    :root {
      --bg: #0d1a0d;               /* Dark green-black */
      --text: #f0f0e0;
      --primary: #ffeb3b;          /* Bright yellow */
      --secondary: #4caf50;        /* Neon green */
      --card: #1e2e1e;
      --hover: #2e4e2e;
      --gradient: linear-gradient(135deg, #0d1a0d, #1e3a1e, #0d1a0d);
      --sidebar-bg: #0f220f;
    }
    [data-theme="light"] {
      --bg: #f5fff5;
      --text: #1a2e1a;
      --card: #ffffff;
      --hover: #e8f5e9;
      --gradient: linear-gradient(135deg, #e8f5e9, #c8e6c9, #a5d6a7);
    }
    * { margin:0; padding:0; box-sizing:border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      background: var(--gradient);
      background-size: 400% 400%;
      animation: gradientFlow 15s ease infinite;
    }
    @keyframes gradientFlow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .layout {
      display: flex;
      min-height: 100vh;
    }
    aside {
      width: 240px;
      background: var(--sidebar-bg);
      padding: 1.5rem;
      border-right: 1px solid var(--hover);
      position: fixed;
      height: 100%;
      overflow-y: auto;
    }
    aside h3 { color: var(--primary); margin-bottom: 1.5rem; font-size: 1.4rem; }
    aside button, aside label {
      display: block;
      width: 100%;
      padding: 0.9rem;
      margin: 0.6rem 0;
      background: var(--card);
      border: none;
      border-radius: 10px;
      color: var(--text);
      cursor: pointer;
      font-weight: bold;
      text-align: left;
    }
    aside button:hover, aside label:hover { background: var(--hover); }
    aside input[type="file"] { display: none; }
    main {
      margin-left: 240px;
      flex: 1;
      padding: 1.5rem;
    }
    header {
      text-align: center;
      padding: 1.5rem 0;
      background: rgba(0,0,0,0.3);
      backdrop-filter: blur(8px);
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .logo {
      font-size: 3.8rem;
      font-weight: 900;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      text-shadow: 0 0 15px rgba(76,175,80,0.5);
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 1.8rem;
      margin: 1.2rem 0;
      flex-wrap: wrap;
    }
    nav button {
      background: var(--card);
      border: none;
      color: var(--text);
      padding: 0.8rem 1.6rem;
      border-radius: 30px;
      cursor: pointer;
      font-weight: bold;
    }
    nav button.active { background: var(--secondary); color: black; }
    .search-bar {
      max-width: 700px;
      margin: 1.2rem auto;
      position: relative;
    }
    #searchInput {
      width: 100%;
      padding: 1rem 4rem 1rem 1.5rem;
      border-radius: 50px;
      border: none;
      background: var(--card);
      color: var(--text);
      font-size: 1.1rem;
    }
    .search-icon { position: absolute; right: 1.5rem; top: 50%; transform: translateY(-50%); color: var(--primary); font-size: 1.4rem; }
    .container { max-width: 1300px; margin: auto; }
    .section-title { font-size: 2rem; margin: 2.5rem 0 1.2rem; color: var(--primary); text-shadow: 0 0 10px rgba(255,235,59,0.4); }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 1.8rem;
    }
    .card {
      background: var(--card);
      border-radius: 16px;
      overflow: hidden;
      transition: 0.4s;
      cursor: pointer;
      border: 1px solid var(--hover);
    }
    .card:hover { transform: translateY(-10px); box-shadow: 0 15px 35px rgba(76,175,80,0.3); }
    .card img { width: 100%; height: 200px; object-fit: cover; }
    .card-info { padding: 1.2rem; text-align: center; }
    #player {
      position: fixed;
      bottom: 0;
      left: 240px;
      right: 0;
      background: var(--card);
      backdrop-filter: blur(12px);
      padding: 1.2rem 2rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 -8px 25px rgba(0,0,0,0.7);
      z-index: 99;
      border-top: 1px solid var(--secondary);
    }
    #player img { width: 70px; height: 70px; border-radius: 14px; box-shadow: 0 0 15px var(--primary); }
    #player-controls button {
      background: none;
      border: none;
      color: var(--text);
      font-size: 2rem;
      margin: 0 1rem;
      cursor: pointer;
      transition: 0.3s;
    }
    #player-controls button:hover { color: var(--primary); transform: scale(1.15); }
    #progress-container {
      flex: 1;
      height: 8px;
      background: #333;
      border-radius: 4px;
      margin: 0 1.5rem;
      cursor: pointer;
    }
    #progress { height: 100%; width: 0; background: var(--primary); border-radius: 4px; }
    .theme-toggle {
      position: fixed;
      top: 1.2rem;
      right: 1.5rem;
      background: var(--secondary);
      color: white;
      border: none;
      padding: 1rem;
      border-radius: 50%;
      cursor: pointer;
      z-index: 100;
      box-shadow: 0 0 15px var(--primary);
    }
    .premium-banner {
      background: linear-gradient(90deg, var(--secondary), var(--primary));
      color: black;
      text-align: center;
      padding: 1.2rem;
      margin: 1.5rem 0;
      border-radius: 14px;
      font-weight: bold;
      font-size: 1.2rem;
    }
    @media (max-width: 992px) {
      aside { width: 200px; }
      main, #player { margin-left: 200px; }
    }
    @media (max-width: 768px) {
      .layout { flex-direction: column; }
      aside { position: relative; width: 100%; height: auto; border-right: none; border-bottom: 1px solid var(--hover); }
      main, #player { margin-left: 0; }
      #player { left: 0; }
      .logo { font-size: 2.8rem; }
    }
  </style>
</head>
<body>

  <button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-adjust"></i></button>

  <div class="layout">
    <aside>
      <h3>SurVibe</h3>
      <button onclick="showSection('home')">Home</button>
      <button onclick="showSection('trending')">Trending</button>
      <button onclick="showSection('charts')">Top Charts</button>
      <button onclick="showSection('new')">New Releases</button>
      <button onclick="showSection('favorites')">Favorites</button>
      <button onclick="showSection('playlists')">My Playlists</button>

      <label for="uploadSongs" style="margin-top: 2rem; background: var(--secondary); color: black; text-align: center;">
        <i class="fas fa-cloud-upload-alt"></i> Upload Songs
      </label>
      <input type="file" id="uploadSongs" accept="audio/*" multiple onchange="handleUpload(event)"/>
    </aside>

    <main>
      <header>
        <div class="logo">SurVibe</div>
        <p>Sur Ka Naya Vibe – Free Streaming & Upload</p>
      </header>

      <div class="search-bar">
        <input type="text" id="searchInput" placeholder="Search songs, artists..." oninput="searchSongs()"/>
        <i class="fas fa-search search-icon"></i>
      </div>

      <div class="premium-banner">Upgrade to SurVibe Plus – Ad-Free, HD Audio & Unlimited Uploads!</div>

      <div class="container" id="content">
        <!-- Dynamic content here -->
      </div>
    </main>
  </div>

  <div id="player">
    <img id="currentCover" src="https://source.unsplash.com/random/70x70/?music,neon" alt="Cover"/>
    <div style="flex:1; margin:0 1.5rem; min-width:180px;">
      <h4 id="currentTitle">Select a song</h4>
      <small id="currentArtist"></small>
    </div>
    <div id="player-controls">
      <button onclick="prevSong()"><i class="fas fa-backward"></i></button>
      <button id="playPause" onclick="togglePlay()"><i class="fas fa-play"></i></button>
      <button onclick="nextSong()"><i class="fas fa-forward"></i></button>
      <button onclick="toggleShuffle()"><i class="fas fa-random"></i></button>
      <button onclick="toggleRepeat()"><i class="fas fa-redo"></i></button>
    </div>
    <div id="progress-container" onclick="seek(event)">
      <div id="progress"></div>
    </div>
    <span id="time">0:00 / 0:00</span>
    <input type="range" id="volume" min="0" max="1" step="0.01" value="0.9" onchange="audio.volume = this.value"/>
  </div>

  <audio id="audio"></audio>

  <script>
    // Sample songs (add more as needed)
    let songs = [
      { id:1, title:"Tum Hi Ho", artist:"Arijit Singh", src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3", cover:"https://source.unsplash.com/random/300x300/?music,hindi,green", genre:"Hindi" },
      { id:2, title:"Shape of You", artist:"Ed Sheeran", src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3", cover:"https://source.unsplash.com/random/300x300/?music,pop,yellow", genre:"English" },
      { id:3, title:"Levitating", artist:"Dua Lipa", src:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3", cover:"https://source.unsplash.com/random/300x300/?music,dance,neon", genre:"English" },
    ];

    let currentSong = null;
    let isPlaying = false;
    let shuffle = false;
    let repeat = false;
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

    const audio = document.getElementById('audio');
    const playPauseBtn = document.getElementById('playPause');

    function loadSong(song) {
      currentSong = song;
      document.getElementById('currentTitle').textContent = song.title;
      document.getElementById('currentArtist').textContent = song.artist;
      document.getElementById('currentCover').src = song.cover;
      audio.src = song.src;
      audio.load();
      if (isPlaying) audio.play().catch(()=>{});
    }

    function togglePlay() {
      if (isPlaying) {
        audio.pause();
        playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
      } else {
        audio.play().catch(()=>{});
        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
      }
      isPlaying = !isPlaying;
    }

    function nextSong() { /* similar to before */ let idx = songs.indexOf(currentSong); idx = (idx + 1) % songs.length; loadSong(songs[idx]); togglePlay(); }
    function prevSong() { let idx = songs.indexOf(currentSong); idx = (idx - 1 + songs.length) % songs.length; loadSong(songs[idx]); togglePlay(); }
    function toggleShuffle() { shuffle = !shuffle; }
    function toggleRepeat() { repeat = !repeat; }

    audio.onended = () => { if (repeat) audio.play(); else nextSong(); };

    function seek(e) {
      const width = document.getElementById('progress-container').clientWidth;
      audio.currentTime = (e.offsetX / width) * audio.duration;
    }

    audio.ontimeupdate = () => {
      if (!audio.duration) return;
      const prog = (audio.currentTime / audio.duration) * 100;
      document.getElementById('progress').style.width = prog + '%';
      document.getElementById('time').textContent = formatTime(audio.currentTime) + ' / ' + formatTime(audio.duration);
    };

    function formatTime(s) {
      let m = Math.floor(s / 60);
      let sec = Math.floor(s % 60);
      return m + ':' + (sec < 10 ? '0' : '') + sec;
    }

    function addToFavorites(song) {
      if (!favorites.some(s => s.id === song.id)) {
        favorites.push(song);
        localStorage.setItem('favorites', JSON.stringify(favorites));
      }
    }

    function handleUpload(e) {
      const files = e.target.files;
      for (let file of files) {
        if (file.type.startsWith('audio/')) {
          const url = URL.createObjectURL(file);
          const newSong = {
            id: Date.now() + Math.random(),
            title: file.name.replace(/\.[^/.]+$/, ""),
            artist: "Uploaded",
            src: url,
            cover: "https://source.unsplash.com/random/300x300/?music,upload,green",
            genre: "Uploaded"
          };
          songs.push(newSong);
          alert(file.name + " uploaded! Now play from Home or search.");
        }
      }
    }

    function searchSongs() {
      const q = document.getElementById('searchInput').value.toLowerCase();
      const filtered = songs.filter(s => s.title.toLowerCase().includes(q) || s.artist.toLowerCase().includes(q));
      renderGrid(filtered, 'Search Results');
    }

    function renderGrid(list, title) {
      let html = `<h2 class="section-title">${title}</h2><div class="grid">`;
      list.forEach(song => {
        html += `
          <div class="card" onclick="loadSong(${JSON.stringify(song)}); togglePlay()">
            <img src="${song.cover}" alt="${song.title}">
            <div class="card-info">
              <h3>${song.title}</h3>
              <p>${song.artist}</p>
              <button onclick="event.stopPropagation(); addToFavorites(${JSON.stringify(song)})">Like</button>
            </div>
          </div>`;
      });
      html += '</div>';
      document.getElementById('content').innerHTML = html;
    }

    function showSection(sec) {
      document.querySelectorAll('nav button, aside button').forEach(b => b.classList.remove('active'));
      event.target.classList.add('active');
      if (sec === 'home' || sec === 'trending') renderGrid(songs, 'Recommended & Trending');
      else if (sec === 'favorites') renderGrid(favorites, 'Liked Songs');
      else renderGrid(songs.filter(s => s.genre === sec.charAt(0).toUpperCase() + sec.slice(1)), sec.charAt(0).toUpperCase() + sec.slice(1) + ' Songs');
    }

    function toggleTheme() {
      document.documentElement.setAttribute('data-theme', document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark');
    }

    // Start
    renderGrid(songs, 'Recommended for You');
    loadSong(songs[0]);
  </script>
</body>
</html>
